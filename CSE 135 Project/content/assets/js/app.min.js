function addQuestion(e,t){var n;var r={questionName:"",points:"",id:++numQuestions};var t=$.extend({},r,t);switch(e){case"tf":n=buildTrueFalseQuestion(t);sort=2;break;case"mc":n=buildMultipleChoiceQuestion(t);sort=1;break;case"sa":n=buildShortAnswerQuestion(t);sort=5;break;case"fi":n=buildFillInQuestion(t);sort=4;break;case"m":n=buildMatchingQuestion(t);sort=3;break;default:numQuestions--;return null}var i=$("<div></div>").addClass("newQuestion").attr("data-type",e).attr("data-sort",sort).css("display","none").attr("id",""+t.id+"");$(i).append(getBadge(e));$(i).append(getHelpButton(e));$(i).append(getDeleteButton());$(i).append(getQuestionName(t.questionName));if(e!=="m"){$(i).append(getQuestionElements(t.questionText))}$(i).append(getFileElement());$(i).appendEach(n);$(i).append(getPointBox(t.points));var s=t.questionName===""?"Question":t.questionName;var o=$('<li data-linked="'+t.id+'" data-reset="1"><span class="anchor"><span class="qNum">1</span>. '+s+"</span></li>").css("display","none");$.when($("#questions").prepend($(i)),$(".bs-docs-sidebar > ol > li.divider").after($(o))).then(function(){$(i).slideDown(400,function(){$(i).find('input[name="points"]').trigger("change")});$(o).slideDown(400,renumber())});return true}function buildTrueFalseQuestion(e){var t=new Array;var n={answer:false};var e=$.extend({},n,e);t.push($("<label>Answers</label>"));t.push($('<label class="radio inline"><input type="radio" value="true" name="answer'+numQuestions+'" '+(e.answer?"checked":"")+">True</label>"));t.push($('<label class="radio inline"><input type="radio" value="false" name="answer'+numQuestions+'" '+(!e.answer?"checked":"")+">False</label>"+'<span class="help-block"><small>Select correct answer</small></span>'));return t}function buildMultipleChoiceQuestion(e){var t=new Array;var n={choose:"one",answer:[],choices:["",""]};var e=$.extend({},n,e);t.push($("<label>Student chooses</label>"));t.push($('<label class="radio inline"><input type="radio" value="one" name="numToChoose1" '+(e.choose==="multiple"?"":"checked")+">One Answer</label>"+'<label class="radio inline"><input type="radio" value="multiple" name="numToChoose1" '+(e.choose==="multiple"?"checked":"")+">Multiple answers</label>"+"<label>Possible Answers</label>"+'<span class="help-block"><small>Check correct answer(s)</small></span>'));$(e.choices).each(function(n){t.push($('<div class="input-prepend input-append block"><span class="add-on"><input type="checkbox" value="'+n+'" name="correct" '+(e.answer.indexOf(n)>-1?"checked":"")+"></span>"+'<input type="text" value="'+this+'" name="answer"><i class="icon-trash btn btn-danger" title="Remove"></i></div>'))});t.push($('<div class="input-append"><input type="number" value="1" name="addAnswers" class="input-mini" min="1">'+'<input type="button" class="btn btn-info" value="Add Answer(s)" name="addAnswer" data-type="mc"></div>'));return t}function buildMatchingQuestion(e){var t=new Array;var n={answer:[{word:"",def:""},{word:"",def:""}]};var e=$.extend({},n,e);t.push($("<label>Word-Value Pairs </label>"));$(e.answer).each(function(e,n){t.push($('<div class="block"><input type="text" name="word" value="'+n.word+'" placeholder="Word">'+'<div class="input-append"><input type="text" value="'+n.def+'" name="def" placeholder="Value"><i class="icon-trash btn btn-danger" title="Remove"></i></div></div>'))});t.push($('<div class="input-append"><input type="number" value="1" name="addAnswers" class="input-mini" min="1"><input type="button" class="btn btn-info" value="Add Pair(s)" name="addAnswer" data-type="m"></div>'));return t}function buildFillInQuestion(e){var t=new Array;var n={answer:[""]};var e=$.extend({},n,e);t.push($("<label>Acceptable Answers</label>"));$(e.answer).each(function(e){t.push($('<div class="input-append block"><input type="text" value="'+this+'" name="answer" class="input-block"><i class="icon-trash btn btn-danger" title="Remove"></i></div>'))});t.push($('<div class="input-append"><input type="number" value="1" name="addAnswers" class="input-mini" min="1">'+'<input type="button" class="btn btn-info" value="Add Answer(s)" name="addAnswer" data-type="fi"></div>'));return t}function buildShortAnswerQuestion(){return new Array}function getBadge(e){var t="";switch(e){case"tf":t="True/False";break;case"mc":t="Multiple Choice";break;case"sa":t="Short Answer";break;case"fi":t="Fill-in";break;case"m":t="Matching";break;default:break}return $('<span class="badge badge-info">'+t+"</span>")}function getDeleteButton(){return $('<a class="icon-trash close" href="#" style="color: red" name="deleteQ" title="Remove"></a>')}function getQuestionName(e){return $('<input type="text" name="questionName" value="'+(e||"")+'" placeholder="Question Label">')}function getQuestionElements(e){return[$("<label>Question</label>"),$('<div class="textarea input-xxlarge" contenteditable="">'+(e||"")+"</div>"),$('<span class="help-block">Type question in box above. Use underscores to indicate a "blank", if applicable.</span>')]}function getFileElement(){return $('<label>Optional Graphic</label><div class="fileupload fileupload-new" data-provides="fileupload">'+'<div class="fileupload-new thumbnail" style="width: 50px; height: 50px;"><img src="http://www.placehold.it/50x50/AAAAAA/FFFFFF&text=+" /></div>'+'<div class="fileupload-preview fileupload-exists thumbnail" style="width: 50px; height: 50px;"></div>'+'<span class="btn btn-file"><span class="fileupload-new">Select image</span><span class="fileupload-exists">Change</span><input type="file" /></span>'+'<a href="#" class="btn fileupload-exists" data-dismiss="fileupload">Remove</a></div>')}function getHelpButton(e){var t;switch(e){case"tf":t="True/False";break;case"mc":t="Multiple Choice";break;case"sa":t="Short Answer";break;case"fi":t="Fill-in";break;case"m":t="Matching";break;default:break}return $('<span class="pull-right"><div name="help'+e+'Button"><button class="btn btn-warning" title="'+t+' Help" onclick="tutorial'+e+'();"><i class="icon-question-sign"></i> '+t+" Help</button></div></span>")}function getPointBox(e){return $('<label>Points</label><div name="PointBox"><input type="number" name="points" min="0" class="input-mini pointsBox" value="'+(e||"1")+'"></div>')}function changePoint(e){var t=document.getElementById("totalPoints");var n=t.textContent;t.textContent=n-curPoint+parseInt(e.value,10)}function setCurPoint(e){curPoint=parseInt(e.value,10)}function renumber(){$(".bs-docs-sidebar > ol > li").each(function(){var e=$(".bs-docs-sidebar > ol > li").index($(this))-3;$(this).find("span.qNum").fadeOut("fast",function(){$(this).text(e).fadeIn("fast")})})}function serializeQuiz(){var e=$("div.newQuestion");var t=$("#quizSettings :input:not(button):not(#loadQuiz)");var n={id:guid(),questions:[],settings:{}};$(t).each(function(){n["settings"][$(this).attr("name")]=$(this).val()});$(e).each(function(){n.questions.push(serializeQuestion($(this)))});n=JSON.stringify(n,null,"	");console.log(n);return n}function serializeQuizAnswers(){var e=$("div.newQuestion");var t=$("#quizSettings :input:not(button):not(#loadQuiz)");var n=$("fieldset > div.well");var r={id:getID(),questions:getQuestions(),studentAnswers:[],settings:getSettings()};$(n).each(function(){r.studentAnswers.push(serializeQuestionAnswers($(this)))});r=JSON.stringify(r,null,"	");console.log(r);return r}function serializeQuizAnswersPoints(){var e=$("div.newQuestion");var t=$("#quizSettings :input:not(button):not(#loadQuiz)");var n=$("fieldset > div.well");var r=$("div.well div.gradedPoint input");var i={id:getID(),questions:getQuestions(),studentAnswers:getStudentAnswers(),gradedPoints:[],settings:getSettings()};$(r).each(function(){i.gradedPoints.push(serializeQuestionAnswersPoints($(this)))});i=JSON.stringify(i,null,"	");console.log(i);return i}function serializeQuizAnswersPointsRequest(){var e=$("div.newQuestion");var t=$("#quizSettings :input:not(button):not(#loadQuiz)");var n=$("fieldset > div.well");var r=$("div.well div.gradedPoint input");var i=$("#richtext").val();var s={id:getID(),questions:getQuestions(),studentAnswers:getStudentAnswers(),gradedPoints:getGradedPoints(),regradeRequest:$("textarea.textarea").val(),settings:getSettings()};s=JSON.stringify(s,null,"	");console.log(s);return s}function serializeQuizAnswersPointsRequestResponse(){var e=$("div.newQuestion");var t=$("#quizSettings :input:not(button):not(#loadQuiz)");var n=$("fieldset > div.well");var r=$("div.well div.gradedPoint input");var i=$("#richtext").val();var s=$("#richtext").val();var o={id:getID(),questions:getQuestions(),studentAnswers:getStudentAnswers(),gradedPoints:[],regradeRequest:getRegradeRequest(),regradeResponse:$("textarea.textarea").val(),settings:getSettings()};$(r).each(function(){o.gradedPoints.push(serializeQuestionAnswersPoints($(this)))});o=JSON.stringify(o,null,"	");console.log(o);return o}function getID(){return quizData.id}function getQuestions(){return quizData.questions}function getSettings(){return quizData.settings}function getStudentAnswers(){return quizData.studentAnswers}function getGradedPoints(){return quizData.gradedPoints}function getRegradeRequest(){return quizData.regradeRequest}function indexReversal(e){totalSize=$(e).size();var t=[];for(var n=1;n<=totalSize;n++){t.push(n)}t.reverse();return t}function disabler(){var e=document.getElementsByTagName("input");var t=e.length;for(var n=0;n<t;n++){e[n].disabled=true}}function pointFiller(){$("input[type='number']").each(function(e){$(this).val(quizData.gradedPoints[e].gradedPoints)})}function serializeQuestionAnswers(e){console.log(e);var t=$(e).attr("data-type");var n;switch(t){case"tf":n=serializeTrueFalseQuestionAnswers(e);break;case"mc":n=serializeMultipleChoiceQuestionAnswers(e);break;case"sa":n=serializeShortAnswerQuestionAnswers(e);break;case"fi":n=serializeFillInQuestionAnswers(e);break;case"m":n=serializeMatchingQuestionAnswers(e);break;default:return null}return n}function serializeQuestionAnswersPoints(e){console.log(e);var t={};t["id"]=indexReversal("div.well div.gradedPoint input")[$(e).parent().parent().index()/2-1];t["gradedPoints"]=$(e).val();return t}function serializeTrueFalseQuestionAnswers(e){var t={};t["id"]=indexReversal("fieldset > div.well")[$(e).index()/2-1];t["answer"]=$(e).find('input[type="radio"]:checked').val()=="true";return t}function serializeMultipleChoiceQuestionAnswers(e){var t={};t["id"]=indexReversal("fieldset > div.well")[$(e).index()/2-1];t["answer"]=$(e).find('input[type="radio"]:checked').val();return t}function serializeMatchingQuestionAnswers(e){var t={};t["id"]=indexReversal("fieldset > div.well")[$(e).index()/2-1];return t}function serializeFillInQuestionAnswers(e){var t={};t["id"]=indexReversal("fieldset > div.well")[$(e).index()/2-1];t["answer"]=$(e).find(".textarea").text();return t}function serializeShortAnswerQuestionAnswers(e){var t={};t["id"]=indexReversal("fieldset > div.well")[$(e).index()/2-1];t["answer"]=$(e).find(".textarea").text();return t}function serializeQuestion(e){var t=$(e).attr("data-type");var n;switch(t){case"tf":n=serializeTrueFalseQuestion(e);break;case"mc":n=serializeMultipleChoiceQuestion(e);break;case"sa":n=serializeShortAnswerQuestion(e);break;case"fi":n=serializeFillInQuestion(e);break;case"m":n=serializeMatchingQuestion(e);break;default:return null}return n}function serializeTrueFalseQuestion(e){var t={};t["id"]=$(e).attr("id");t["type"]=$(e).attr("data-type");t["name"]=$(e).find('input[name="questionName"]').val();t["questionText"]=$(e).find(".textarea").text();t["answer"]=$(e).find('input[type="radio"]:checked').val()=="true";t["points"]=$(e).find('input[name="points"]').val();return t}function serializeMultipleChoiceQuestion(e){var t={};t["id"]=$(e).attr("id");t["type"]=$(e).attr("data-type");t["name"]=$(e).find('input[name="questionName"]').val();t["questionText"]=$(e).find(".textarea").text();t["choose"]=$(e).find('input[type="radio"]:checked').val();t["choices"]=$(e).find('input[name="answer"]').map(function(){return $(this).val()}).get();t["answer"]=$(e).find('input[name="correct"]:checked').map(function(){return $(this).val()}).get();t["points"]=$(e).find('input[name="points"]').val();return t}function serializeMatchingQuestion(e){var t={};t["id"]=$(e).attr("id");t["type"]=$(e).attr("data-type");t["name"]=$(e).find('input[name="questionName"]').val();t["answer"]=$(e).find('input[name="word"]').map(function(t,n){return[{word:$(this).val(),def:$(e).find('input[name="def"]').eq(t).val()}]}).get();t["points"]=$(e).find('input[name="points"]').val();return t}function serializeFillInQuestion(e){var t={};t["id"]=$(e).attr("id");t["type"]=$(e).attr("data-type");t["name"]=$(e).find('input[name="questionName"]').val();t["questionText"]=$(e).find(".textarea").text();t["answer"]=$(e).find('input[name="answer"]').map(function(){return $(this).val()}).get();t["points"]=$(e).find('input[name="points"]').val();return t}function serializeShortAnswerQuestion(e){var t={};t["id"]=$(e).attr("id");t["type"]=$(e).attr("data-type");t["name"]=$(e).find('input[name="questionName"]').val();t["questionText"]=$(e).find(".textarea").text();t["points"]=$(e).find('input[name="points"]').val();return t}function tutorialBase(){$("#tour").joyride({postRideCallback:function(){$(".first-joyride-tips").joyride("destroy")},autoStart:true})}function tutorialsettings(){$("#toursettings").joyride({postRideCallback:function(){$(".first-joyride-tips").joyride("destroy")},autoStart:true})}function tutorialtf(){$("#tf").joyride({postRideCallback:function(){$(".first-joyride-tips").joyride("destroy")},autoStart:true})}function tutorialmc(){$("#mc").joyride({postRideCallback:function(){$(".first-joyride-tips").joyride("destroy")},autoStart:true})}function tutorialsa(){$("#sa").joyride({postRideCallback:function(){$(".first-joyride-tips").joyride("destroy")},autoStart:true})}function tutorialfi(){$("#fi").joyride({postRideCallback:function(){$(".first-joyride-tips").joyride("destroy")},autoStart:true})}function tutorialm(){$("#m").joyride({postRideCallback:function(){$(".first-joyride-tips").joyride("destroy")},autoStart:true})}function saveQuizAnswer(){var e=serializeQuizAnswers();$.mockjax({url:"saveQuizAnswer.php",responseText:'{"success": true}'});var t=$.post("saveQuizAnswer.php",e,function(e){success=e.success},"json");return true}function saveQuiz(){console.log("saveQuiz function begin");var e=serializeQuiz();var t=JSON.parse(e);var n=t.id;console.log(n);var r=t.settings.quizName;console.log(r);console.log("Hello World111");console.log("another message111");var i=$.post("http://s8.level3.pint.com/saveQuiz.php",{data:e,id:n,qname:r},function(e){success=e.success},"json");return true}function loadQuiz(e){$.getJSON("http://s8.level3.pint.com/loadQuiz.php?id="+"'"+e+"'",function(e){$.each(e.settings,function(e,t){$('#quizSettings :input[name="'+e+'"]').val(t).change()});$.each(e.questions,function(e,t){addQuestion(t.type,t)})})}function clearPage(){numQuestions=0;$("#questions").html("");$("#quizForm")[0].reset();$('li[data-reset="1"]').remove();$("#pointsPossible").text("1");$("#totalPoints").text("0")}function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function guid(){return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}function preview(){var e=window.open();var t=JSON.parse(serializeQuiz());e.document.writeln("<!DOCTYPE html>");e.document.writeln('<html lang="en">');e.document.writeln("<head>");e.document.writeln('<meta charset="utf-8">');e.document.writeln("<title>QuizMaker Preview</title>");e.document.writeln('<meta name="viewport" content="width=device-width, initial-scale=1.0">');e.document.writeln('<meta name="description" content="">');e.document.writeln('<meta name="author" content="">');e.document.writeln('<link href="assets/css/bootstrap.css" rel="stylesheet">');e.document.writeln('<link href="assets/css/bootstrap-responsive.css" rel="stylesheet">');e.document.writeln('<link href="assets/css/docs.css" rel="stylesheet">');e.document.writeln('<link href="assets/js/google-code-prettify/prettify.css" rel="stylesheet">');e.document.writeln('<link href="assets/css/custom-theme/jquery-ui-1.10.0.custom.css" rel="stylesheet">');e.document.writeln('<link rel="shortcut icon" href="assets/ico/favicon.ico">');e.document.writeln('<link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">');e.document.writeln('<link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">');e.document.writeln('<link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">');e.document.writeln('<link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">');e.document.writeln('<style type="text/css"></style></head>');e.document.writeln('<body data-spy="scroll" data-target=".bs-docs-sidebar">');e.document.writeln('<div class="navbar navbar-inverse navbar-fixed-top">');e.document.writeln('<div class="navbar-inner">');e.document.writeln('<div class="container">');e.document.writeln('<button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">');e.document.writeln('<span class="icon-bar"></span>');e.document.writeln('<span class="icon-bar"></span>');e.document.writeln('<span class="icon-bar"></span>');e.document.writeln("</button>");e.document.writeln('<a class="brand" href="./index.html">four amigos QuizMaker</a>');e.document.writeln('<div class="nav-collapse collapse">');e.document.writeln('<ul class="nav">');e.document.writeln('<li class="">');e.document.writeln('<a href="./index.html">Home</a>');e.document.writeln("</li>");e.document.writeln('<li class="active">');e.document.writeln('<a href="./quizMaker.html">Make a Quiz</a>');e.document.writeln("</li>");e.document.writeln("</ul>");e.document.writeln("</div>");e.document.writeln("</div>");e.document.writeln("</div>");e.document.writeln("</div>");e.document.writeln('<header class="jumbotron subhead" id="overview">');e.document.writeln('<div class="container"><form>');e.document.writeln("<fieldset>");e.document.writeln("<legend>"+$("#quizName").val()+"</legend>");e.document.writeln('<div class="inline-block span3">'+"Time Limit: "+$(timeLimit).val()+" minute(s)"+"</div>");e.document.writeln('<div class="inline-block offset1">Possible Point(s): '+$(possiblePoints).val()+"</div><br>");e.document.writeln('<div class="inline-block span3">Start Date: '+$(startDate).val()+"</div>");e.document.writeln('<div class="inline-block offset1">Start Time: '+$(startTime).val()+"</div><br>");e.document.writeln('<div class="inline-block span3">End Date: '+$(endDate).val()+"</div>");e.document.writeln('<div class="inline-block offset1">End Time: '+$(endTime).val()+"</div>");e.document.writeln("</fieldset></form></div></header>");e.document.writeln('<div class="container-fluid">');e.document.writeln('<div class="row-fluid">');e.document.writeln('<div class="span2">');e.document.writeln("</div>");e.document.writeln('<div class="span8">');e.document.writeln("<form>");e.document.writeln("<fieldset>");$.each($(t.questions),function(t,n){console.log(n);e.document.writeln(previewQuestion(n))});e.document.writeln("</fieldset>");e.document.writeln("</form></div></div></div>");e.document.writeln('<div class="container">');e.document.writeln('<section id="contents">');e.document.writeln('<div class="form-actions"><span class="pull-right">');e.document.writeln('<input type="submit" value="Save Quiz" class="btn btn-success">');e.document.writeln('<input type="button" value="Submit" class="btn">');e.document.writeln('<input type="reset" value="Start Over" class="btn btn-danger">');e.document.writeln("</span></div>");e.document.writeln("</section>");e.document.writeln("</div>");e.document.writeln('<footer class="footer">');e.document.writeln('<div class="container">');e.document.writeln('<p class="pull-right"><a href="#">Back to top</a></p>');e.document.writeln('<p>© 2013 <a href="team_page.html">four amigos</a></p>');e.document.writeln("</div>");e.document.writeln("</footer>");e.document.writeln('<script src="assets/js/jquery.js"></script>');e.document.writeln('<script src="assets/js/google-code-prettify/prettify.js"></script>');e.document.writeln('<script src="assets/js/bootstrap-transition.js"></script>');e.document.writeln('<script src="assets/js/bootstrap-alert.js"></script>');e.document.writeln('<script src="assets/js/bootstrap-modal.js"></script>');e.document.writeln('<script src="assets/js/bootstrap-dropdown.js"></script>');e.document.writeln('<script src="assets/js/bootstrap-scrollspy.js"></script>');e.document.writeln('<script src="assets/js/bootstrap-tab.js"></script>');e.document.writeln('<script src="assets/js/bootstrap-tooltip.js"></script>');e.document.writeln('<script src="assets/js/bootstrap-popover.js"></script>');e.document.writeln('<script src="assets/js/bootstrap-button.js"></script>');e.document.writeln('<script src="assets/js/bootstrap-collapse.js"></script>');e.document.writeln('<script src="assets/js/bootstrap-carousel.js"></script>');e.document.writeln('<script src="assets/js/bootstrap-typeahead.js"></script>');e.document.writeln('<script src="assets/js/bootstrap-affix.js"></script>');e.document.writeln('<script src="assets/js/jasny-bootstrap.min.js"></script>');e.document.writeln('<script src="assets/js/application.js"></script>');e.document.writeln('<script src="assets/js/jquery-ui-1.10.3.custom.js"></script>');e.document.writeln("</body>");e.document.writeln("</html>")}function previewQuestion(e){var t=e.type;var n;switch(t){case"tf":n=previewTrueFalseQuestion(e);break;case"mc":n=previewMultipleChoiceQuestion(e);break;case"sa":n=previewShortAnswerQuestion(e);break;case"fi":n=previewFillInQuestion(e);break;case"m":n=previewMatchingQuestion(e);break;default:return null}return n}function previewTrueFalseQuestion(e){console.log(e);var t=new Array;var n=e.name||"";t.push($('<div class="qtitle">'+n+"</div>").prop("outerHTML"));t.push($('<div class="well well-small" data-type="tf">'+e.questionText+'<label class="radio">'+'<input type="radio" name="optionsRadios'+e.id+'" id="optionsRadiosQ'+e.id+'T" value="true">'+"True</label>"+'<label class="radio">'+'<input type="radio" name="optionsRadios'+e.id+'" id="optionsRadiosQ'+e.id+'F" value="false">'+"False</label>").prop("outerHTML"));return t.join("")}function previewMultipleChoiceQuestion(e){console.log(e);var t=new Array;var n=e.name||"";t.push($('<div class="qtitle">'+n+"</div>").prop("outerHTML"));t[1]='<div class="well well-small" data-type="mc">'+e.questionText;for(var r=0;r<e.choices.length;r++){var i='<label class="radio"><input type="radio" value="'+r+'" name="optionsRadiosMC'+e.id+'">'+e.choices[r]+"</label>";t.push($(i).prop("outerHTML"))}t[t.length]="</div>";console.log(t);return t.join("")}function previewShortAnswerQuestion(e){console.log(e);var t=new Array;var n=e.name||"";t.push($('<div class="qtitle">'+n+"</div>").prop("outerHTML"));t.push($('<div class="well well-small" data-type="sa">'+e.questionText+'<div class="textarea input-xxlarge" contenteditable></div>').prop("outerHTML"));return t.join("")}function previewFillInQuestion(e){console.log(e);var t=new Array;var n=e.name||"";t.push($('<div class="qtitle">'+n+"</div>").prop("outerHTML"));t.push($('<div class="well well-small" data-type="fi">'+e.questionText+'<div class="textarea input-xxlarge" contenteditable></div>').prop("outerHTML"));return t.join("")}function previewMatchingQuestion(e){console.log(e);var t=new Array;var n=e.name||"";t.push($('<div class="qtitle">'+n+"</div>").prop("outerHTML"));t.push($('<div class="well well-small" data-type="m">'+e.questionText+'<label class="radio">'+'<input type="radio" name="optionsRadios'+e.id+'" id="optionsRadiosQ'+e.id+'T" value="true">'+"True</label>"+'<label class="radio">'+'<input type="radio" name="optionsRadios'+e.id+'" id="optionsRadiosQ'+e.id+'F" value="false">'+"False</label>").prop("outerHTML"));return t.join("")}function answeredQuestion(e,t){var n=t.type;var r;switch(n){case"tf":r=answeredTrueFalseQuestion(e,t);break;case"mc":r=answeredMultipleChoiceQuestion(e,t);break;case"sa":r=answeredShortAnswerQuestion(e,t);break;case"fi":r=answeredFillInQuestion(e,t);break;case"m":r=answeredMatchingQuestion(e,t);break;default:return null}return r}function answeredTrueFalseQuestion(e,t){console.log(t);var n=new Array;var r=t.name||"";var i=t.points;var s=t.answer;var o=quizData.studentAnswers[e].answer;if(o==true){selectedRadio1='<input type="radio" name="optionsRadios'+e+'" id="optionsRadiosQ'+e+'T" value="true" disabled checked>';selectedRadio2='<input type="radio" name="optionsRadios'+e+'" id="optionsRadiosQ'+e+'F" value="false" disabled>'}else if(o==false){selectedRadio1='<input type="radio" name="optionsRadios'+e+'" id="optionsRadiosQ'+e+'T" value="true" disabled>';selectedRadio2='<input type="radio" name="optionsRadios'+e+'" id="optionsRadiosQ'+e+'F" disabled checked>'}else{selectedRadio1='<input type="radio" name="optionsRadios'+e+'" id="optionsRadiosQ'+e+'T" value="true" disabled>';selectedRadio2='<input type="radio" name="optionsRadios'+e+'" id="optionsRadiosQ'+e+'F" disabled>'}if(s==true){label1='<label class="radio text-success">';label2='<label class="radio text-error">'}else{label1='<label class="radio text-error">';label2='<label class="radio text-success">'}n.push($('<div class="qtitle">'+r+"</div>").prop("outerHTML"));n.push($('<div class="well well-small" data-type="tf">'+t.questionText+label1+selectedRadio1+"True</label>"+label2+selectedRadio2+"False</label>"+'<div class="form-inline gradedPoint"><input type="number" name="pointsAwarded" class="input-small" min="0" max="'+i+'" value="0">'+"<label> / "+i+" Possible Points</label></div>").prop("outerHTML"));return n.join("")}function answeredMultipleChoiceQuestion(e,t){console.log(t);var n=new Array;var r=t.name||"";var i=t.points;var s=t.answer;var o=quizData.studentAnswers[e].answer;var u="";if(s.length==0){s=-1}n.push($('<div class="qtitle">'+r+"</div>").prop("outerHTML"));n[1]='<div class="well well-small" data-type="mc">'+t.questionText;for(var a=0;a<t.choices.length;a++){if(a==s){u='<label class="radio text-success">'}else{u='<label class="radio text-error">'}if(a==o){var f=u+'<input type="radio" value="'+a+'" name="optionsRadiosMC'+e+'" disabled checked>'+t.choices[o]+"</label>"}else{var f=u+'<input type="radio" value="'+a+'" name="optionsRadiosMC'+e+'" disabled>'+t.choices[a]+"</label>"}n.push($(f).prop("outerHTML"))}n[n.length]='<div class="form-inline gradedPoint"><input type="number" name="pointsAwarded" class="input-small" min="0" max="'+i+'" value="0">'+"<label> / "+i+" Possible Points</label></div></div>";console.log(n);return n.join("")}function answeredShortAnswerQuestion(e,t){console.log(t);var n=new Array;var r=t.name||"";var i=t.points;var s=t.answer;var o=quizData.studentAnswers[e].answer;if(s==undefined){s="No specific answer provided"}n.push($('<div class="qtitle">'+r+"</div>").prop("outerHTML"));n.push($('<div class="well well-small" data-type="sa">'+t.questionText+'<div class="textarea input-xxlarge" disabled>'+o+"</div>"+'<p><em class="text-success">Acceptable Answers: '+s+"</em></p>"+'<div class="form-inline gradedPoint"><input type="number" name="pointsAwarded" class="input-small" min="0" max="'+i+'" value="0">'+"<label> / "+i+" Possible Points</label></div>").prop("outerHTML"));return n.join("")}function answeredFillInQuestion(e,t){console.log(t);var n=new Array;var r=t.name||"";var i=t.points;var s=t.answer;var o=quizData.studentAnswers[e].answer;n.push($('<div class="qtitle">'+r+"</div>").prop("outerHTML"));n.push($('<div class="well well-small" data-type="fi">'+t.questionText+'<div class="textarea input-xxlarge" disabled>'+o+"</div>"+'<p><em class="text-success">Acceptable Answers: '+s+"</em></p>"+'<div class="form-inline gradedPoint"><input type="number" name="pointsAwarded" class="input-small" min="0" max="'+i+'" value="0">'+"<label> / "+i+" Possible Points</label></div>").prop("outerHTML"));return n.join("")}function answeredMatchingQuestion(e,t){console.log(t);var n=new Array;var r=t.name||"";n.push($('<div class="qtitle">'+r+"</div>").prop("outerHTML"));n.push($('<div class="well well-small" data-type="m">'+t.questionText+'<label class="radio">'+'<input type="radio" name="optionsRadios'+e+'" id="optionsRadiosQ'+e+'T" value="true">'+"True</label>"+'<label class="radio">'+'<input type="radio" name="optionsRadios'+e+'" id="optionsRadiosQ'+e+'F" value="false">'+"False</label>").prop("outerHTML"));return n.join("")}!function(e){e(function(){var t=e(window);setTimeout(function(){e(".bs-docs-sidenav").affix({offset:{top:function(){return t.width()<=980?290:210},bottom:140}})},100);e("body").on("remove",function(){e(".affix").each(function(){e(this).affix("refresh")})});e("body").on("DOMNodeInsertedIntoDocument",function(){e(".affix, .affix-top").each(function(){e(this).affix("refresh")})});window.prettyPrint&&prettyPrint();e('input[type="number"]').forceNumeric();e(".add-on :checkbox").on("click",function(){var t=e(this),n=t.attr("checked")?"addClass":"removeClass";e(this).parents(".add-on")[n]("active")});e("#myCarousel").carousel();e(".sortable").sortable({placeholder:"ui-state-highlight",items:"li:not(.not-sortable)",start:function(e,t){t.item.bind("click.prevent",function(e){e.preventDefault()})},update:function(t,n){var r=e(".bs-docs-sidebar > ol > li").index(e(n.item));var i=e("#"+e(n.item).attr("data-linked"));renumber();e(i).fadeTo("fast",0,function(){e(this).slideToggle("slow",function(){e(this).detach();if(r===4){e("#questions > div.newQuestion:nth-of-type("+(r-3)+")").before(e(this).slideDown(400,function(){e(this).fadeTo(400,100)}))}else{e("#questions > div.newQuestion:nth-of-type("+(r-4)+")").after(e(this).slideDown(400,function(){e(this).fadeTo(400,100)}))}})})},stop:function(e,t){setTimeout(function(){t.item.unbind("click.prevent")},300)}});e(".sortable").disableSelection();e("#questions").on("click",'a[name="deleteQ"]',function(t){t.preventDefault();e(this).parents("div.newQuestion").find('input[name="points"]').val(0).trigger("change");e(this).parents("div.newQuestion").add(e('li[data-linked="'+e(this).parents("div.newQuestion").attr("id")+'"]')).fadeTo("slow",0,function(){e(this).slideUp("slow",function(){e.when(e(this).remove()).then(renumber())})});numQuestions--;return false});e("#questions").on("click","i.icon-trash",function(t){e(this).closest("div.block","div").fadeTo("fast",0,function(){e(this).slideUp("fast",function(){var t=e(this).closest("div.newQuestion");e.when(e(this).remove()).then(function(){e(t).find('input[name="correct"]').each(function(t){e(this).val(t)})})})})});e("#questions").on("click",'input[name="addAnswer"]',function(t){var n;var r=e.trim(e(this).siblings('input[type="number"]').val());var i=e(this).attr("data-type");if(isNaN(r)){r=1}if(i=="mc"){n=e('<div class="input-prepend input-append block"><span class="add-on"><input type="checkbox" value="" name="correct"></span>'+'<input type="text" value="" name="answer"><i class="icon-trash btn btn-danger" title="Remove"></i></div>')}else if(i=="fi"){n=e('<div class="input-append block"><input type="text" value="" name="answer" class="input-block"><i class="icon-trash btn btn-danger" title="Remove"></i></div>')}else if(i=="m"){n=e('<div class="block"><input type="text" name="word" placeholder="Word">'+'<div class="input-append"><input type="text" name="def" placeholder="Value"><i class="icon-trash btn btn-danger" title="Remove"></i></div></div>')}else{return false}n.css("display","none");for(var s=0;s<r;s++){ansCopy=e(n).clone();e(this).closest("div").before(e(ansCopy));e(ansCopy).slideDown()}if(i=="mc"){e(this).closest("div.newQuestion").find('input[name="correct"]').each(function(t){e(this).val(t)})}return true});e("#questions").on("keyup",'input[name="questionName"]',function(t){var n=e(this).val();var r=e('li[data-linked="'+e(this).closest("div.newQuestion").attr("id")+'"]').find(".anchor");var i=e('li[data-linked="'+e(this).closest("div.newQuestion").attr("id")+'"]').find(".anchor > .qNum").text();if(n==="")n="Question";e(r).html('<span class="qNum" style-"display: inline;">'+i+"</span>. "+n)});e("#possiblePoints").change(function(){var t=parseInt(e(this).val(),10);if(isNaN(t)){t=1}e("#pointsPossible").text(t)});e("#questions").on("change",'input[name="points"]',function(){var t=0;if(isNaN(e(this).val())){e(this).val(0)}e('input[name="points"]').each(function(){var n=parseInt(e(this).val(),10);if(isNaN(n))n=0;t+=n});e("#totalPoints").text(t)});e("#loadQuiz").click(function(){var t=e("#loadQuizSelect").val();if(t.length>0)loadQuiz(e("#loadQuizSelect").val())});e("#quizForm").submit(function(t){t.preventDefault();if(saveQuiz()){e("#contents").prepend(e('<div class="alert alert-success fade"><button type="button" class="close" data-dismiss="alert">×</button><h4>Quiz saved!</h4><p>Check the console to see the JSON that would be passed to the server.</p></div>').addClass("in"));window.setTimeout(function(){e(".alert-success ").slideUp(function(){e(this).alert("close")})},3e3)}else{e("#contents").prepend(e('<div class="alert alert-error fade"><button type="button" class="close" data-dismiss="alert">×</button><h4>Quiz could not be saved! Please try again!</h4></div>').addClass("in"));window.setTimeout(function(){e(".alert-error ").slideUp(function(){e(this).alert("close")})},3e3)}return false});e("#amigoSidebar").on("click","li:not(.not-sortable)",function(){var t=e("#"+e(this).closest("li").attr("data-linked"));e("html,body").animate({scrollTop:t.offset().top-50},"slow")});e("#sorter").click(function(t){t.preventDefault();e("div.newQuestion").sort(function(t,n){var r=parseInt(e(t).attr("data-sort"),10);var i=parseInt(e(n).attr("data-sort"),10);return r<i?-1:r>i?1:0}).fadeOut(400,function(){e(this).appendTo("#questions").fadeIn()});e(".bs-docs-sidebar > ol > li:not(.not-sortable)").sort(function(t,n){var r=parseInt(e("#"+e(t).attr("data-linked")).attr("data-sort"),10);var i=parseInt(e("#"+e(n).attr("data-linked")).attr("data-sort"),10);return r<i?-1:r>i?1:0}).fadeOut(400,function(){e(this).appendTo(".bs-docs-sidebar > ol ").fadeIn(400,renumber())});return false});e("#addQuestions").change(function(){var t=e(this).val();var n=e.trim(e("#numToAdd").val());if(isNaN(n)){n=1}var r=0;for(r=0;r<n;r++){addQuestion(t)}e(this).val("");e("#numToAdd").val(1)})})}(window.jQuery);jQuery.fn.appendEach=function(e){var t=jQuery.map(e,function(e,t){return e.get()});this.append(t);return this};var numQuestions=0;var curPoint=0;jQuery.fn.forceNumeric=function(){return this.each(function(){$(this).keydown(function(e){var t=e.which||e.keyCode;if(!e.shiftKey&&!e.altKey&&!e.ctrlKey&&t>=48&&t<=57||t>=96&&t<=105||t==190||t==188||t==109||t==110||t==8||t==9||t==13||t==35||t==36||t==37||t==39||t==46||t==45)return true;return false})})};